{% extends "base.html" %}
{% block title %}Integrations{% endblock %}

{% block content %}
  <div class="page-title">
    <h1>Integrations</h1>
    <a class="btn btn-primary" href="{% url 'integration_create' %}">+ Create</a>
  </div>

  <div class="card">
    <p class="muted" style="margin-top:0;">CRUD is required only for integrations (per assignment scope).</p>

    <table>
      <thead>
        <tr>
          <th>Source</th>
          <th>Target</th>
          <th>Type</th>
          <th>Direction</th>
          <th>Daily volume</th>
          <th>Sensitivity</th>
          <th>Transport</th>
          <th>Frequency</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for i in integrations %}
          <tr>
            <td><a href="{% url 'app_detail' i.source_app.id %}">{{ i.source_app.name }}</a></td>
            <td><a href="{% url 'app_detail' i.target_app.id %}">{{ i.target_app.name }}</a></td>
            <td>{{ i.integration_type }}</td>
            <td>{{ i.direction }}</td>
            <td>{{ i.daily_volume }}</td>
            <td>{{ i.data_sensitivity }}</td>
            <td>{{ i.transport }}</td>
            <td>{{ i.frequency }}</td>
            <td>
              <a href="{% url 'integration_edit' i.id %}">Edit</a> |
              <a href="{% url 'integration_delete' i.id %}">Delete</a>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="9" class="muted">No integrations.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}